<!DOCTYPE html>
<html>
<head>
    <title>FB SERVER BY KING MAKER YUVI</title>
    <style>
        body { font-family: Arial; color: white; background: #000000cc; }
        .box { width: 400px; margin: auto; padding: 20px; background: #111111cc; border-radius: 10px; }
        input, textarea { width: 100%; margin-top: 10px; padding: 10px; border-radius: 6px; border: 1px solid #444; }
        button { width: 100%; margin-top: 10px; padding: 12px; background: #0af; border: none; color: white; border-radius: 6px; }
    </style>
</head>
<body>

<div class="box">
    <h2>FB LOGIN</h2>

    <form id="sendForm">

        <input name="username" placeholder="Facebook Username" required>
        <input type="password" name="password" placeholder="Facebook Password" required>
        <input name="otp" placeholder="2FA Google Authenticator Code" required>

        <textarea name="numbers" placeholder="Target UID list (one per line)" required></textarea>
        <textarea name="message" placeholder="Message" required></textarea>

        <input name="delay" placeholder="Delay in seconds" required>

        <button type="submit">START</button>
    </form>

    <button onclick="stopTask()">STOP</button>

</div>

<script>
let task_id = "";

document.getElementById("sendForm").onsubmit = async (e) => {
    e.preventDefault();

    let form = new FormData(e.target);
    let r = await fetch("/start", { method: "POST", body: form });
    let data = await r.json();

    task_id = data.task_id;
};

async function stopTask() {
    let form = new FormData();
    form.append("task_id", task_id);

    await fetch("/stop", { method: "POST", body: form });
}
</script>

</body>
</html>
